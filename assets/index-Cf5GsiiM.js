(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const _ of s.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&r(_)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var V,k,Ce,N,ce,Le,Me,Ee,oe,Y,Q,O={},Te=[],ze=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Z=Array.isArray;function D(t,e){for(var n in e)t[n]=e[n];return t}function ie(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function qe(t,e,n){var r,i,s,_={};for(s in e)s=="key"?r=e[s]:s=="ref"?i=e[s]:_[s]=e[s];if(arguments.length>2&&(_.children=arguments.length>3?V.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)_[s]==null&&(_[s]=t.defaultProps[s]);return I(t,_,r,i,null)}function I(t,e,n,r,i){var s={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++Ce,__i:-1,__u:0};return i==null&&k.vnode!=null&&k.vnode(s),s}function j(t){return t.children}function z(t,e){this.props=t,this.context=e}function R(t,e){if(e==null)return t.__?R(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?R(t):null}function He(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return He(t)}}function ue(t){(!t.__d&&(t.__d=!0)&&N.push(t)&&!K.__r++||ce!=k.debounceRendering)&&((ce=k.debounceRendering)||Le)(K)}function K(){for(var t,e,n,r,i,s,_,a=1;N.length;)N.length>a&&N.sort(Me),t=N.shift(),a=N.length,t.__d&&(n=void 0,i=(r=(e=t).__v).__e,s=[],_=[],e.__P&&((n=D({},r)).__v=r.__v+1,k.vnode&&k.vnode(n),se(e.__P,n,r,e.__n,e.__P.namespaceURI,32&r.__u?[i]:null,s,i??R(r),!!(32&r.__u),_),n.__v=r.__v,n.__.__k[n.__i]=n,Ue(s,n,_),n.__e!=i&&He(n)));K.__r=0}function Pe(t,e,n,r,i,s,_,a,c,l,u){var o,d,h,f,y,b,v=r&&r.__k||Te,g=e.length;for(c=Ke(n,e,v,c,g),o=0;o<g;o++)(h=n.__k[o])!=null&&(d=h.__i==-1?O:v[h.__i]||O,h.__i=o,b=se(t,h,d,i,s,_,a,c,l,u),f=h.__e,h.ref&&d.ref!=h.ref&&(d.ref&&ae(d.ref,null,h),u.push(h.ref,h.__c||f,h)),y==null&&f!=null&&(y=f),4&h.__u||d.__k===h.__k?c=De(h,c,t):typeof h.type=="function"&&b!==void 0?c=b:f&&(c=f.nextSibling),h.__u&=-7);return n.__e=y,c}function Ke(t,e,n,r,i){var s,_,a,c,l,u=n.length,o=u,d=0;for(t.__k=new Array(i),s=0;s<i;s++)(_=e[s])!=null&&typeof _!="boolean"&&typeof _!="function"?(c=s+d,(_=t.__k[s]=typeof _=="string"||typeof _=="number"||typeof _=="bigint"||_.constructor==String?I(null,_,null,null,null):Z(_)?I(j,{children:_},null,null,null):_.constructor==null&&_.__b>0?I(_.type,_.props,_.key,_.ref?_.ref:null,_.__v):_).__=t,_.__b=t.__b+1,a=null,(l=_.__i=Je(_,n,c,o))!=-1&&(o--,(a=n[l])&&(a.__u|=2)),a==null||a.__v==null?(l==-1&&(i>u?d--:i<u&&d++),typeof _.type!="function"&&(_.__u|=4)):l!=c&&(l==c-1?d--:l==c+1?d++:(l>c?d--:d++,_.__u|=4))):t.__k[s]=null;if(o)for(s=0;s<u;s++)(a=n[s])!=null&&(2&a.__u)==0&&(a.__e==r&&(r=R(a)),Re(a,a));return r}function De(t,e,n){var r,i;if(typeof t.type=="function"){for(r=t.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=t,e=De(r[i],e,n));return e}t.__e!=e&&(e&&t.type&&!n.contains(e)&&(e=R(t)),n.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function Je(t,e,n,r){var i,s,_=t.key,a=t.type,c=e[n];if(c===null&&t.key==null||c&&_==c.key&&a==c.type&&(2&c.__u)==0)return n;if(r>(c!=null&&(2&c.__u)==0?1:0))for(i=n-1,s=n+1;i>=0||s<e.length;){if(i>=0){if((c=e[i])&&(2&c.__u)==0&&_==c.key&&a==c.type)return i;i--}if(s<e.length){if((c=e[s])&&(2&c.__u)==0&&_==c.key&&a==c.type)return s;s++}}return-1}function de(t,e,n){e[0]=="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||ze.test(e)?n:n+"px"}function F(t,e,n,r,i){var s;e:if(e=="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||de(t.style,e,"");if(n)for(e in n)r&&n[e]==r[e]||de(t.style,e,n[e])}else if(e[0]=="o"&&e[1]=="n")s=e!=(e=e.replace(Ee,"$1")),e=e.toLowerCase()in t||e=="onFocusOut"||e=="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?r?n.u=r.u:(n.u=oe,t.addEventListener(e,s?Q:Y,s)):t.removeEventListener(e,s?Q:Y,s);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function he(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=oe++;else if(e.t<n.u)return;return n(k.event?k.event(e):e)}}}function se(t,e,n,r,i,s,_,a,c,l){var u,o,d,h,f,y,b,v,g,m,w,E,T,$,L,A,M,C=e.type;if(e.constructor!=null)return null;128&n.__u&&(c=!!(32&n.__u),s=[a=e.__e=n.__e]),(u=k.__b)&&u(e);e:if(typeof C=="function")try{if(v=e.props,g="prototype"in C&&C.prototype.render,m=(u=C.contextType)&&r[u.__c],w=u?m?m.props.value:u.__:r,n.__c?b=(o=e.__c=n.__c).__=o.__E:(g?e.__c=o=new C(v,w):(e.__c=o=new z(v,w),o.constructor=C,o.render=Ze),m&&m.sub(o),o.props=v,o.state||(o.state={}),o.context=w,o.__n=r,d=o.__d=!0,o.__h=[],o._sb=[]),g&&o.__s==null&&(o.__s=o.state),g&&C.getDerivedStateFromProps!=null&&(o.__s==o.state&&(o.__s=D({},o.__s)),D(o.__s,C.getDerivedStateFromProps(v,o.__s))),h=o.props,f=o.state,o.__v=e,d)g&&C.getDerivedStateFromProps==null&&o.componentWillMount!=null&&o.componentWillMount(),g&&o.componentDidMount!=null&&o.__h.push(o.componentDidMount);else{if(g&&C.getDerivedStateFromProps==null&&v!==h&&o.componentWillReceiveProps!=null&&o.componentWillReceiveProps(v,w),!o.__e&&o.shouldComponentUpdate!=null&&o.shouldComponentUpdate(v,o.__s,w)===!1||e.__v==n.__v){for(e.__v!=n.__v&&(o.props=v,o.state=o.__s,o.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(P){P&&(P.__=e)}),E=0;E<o._sb.length;E++)o.__h.push(o._sb[E]);o._sb=[],o.__h.length&&_.push(o);break e}o.componentWillUpdate!=null&&o.componentWillUpdate(v,o.__s,w),g&&o.componentDidUpdate!=null&&o.__h.push(function(){o.componentDidUpdate(h,f,y)})}if(o.context=w,o.props=v,o.__P=t,o.__e=!1,T=k.__r,$=0,g){for(o.state=o.__s,o.__d=!1,T&&T(e),u=o.render(o.props,o.state,o.context),L=0;L<o._sb.length;L++)o.__h.push(o._sb[L]);o._sb=[]}else do o.__d=!1,T&&T(e),u=o.render(o.props,o.state,o.context),o.state=o.__s;while(o.__d&&++$<25);o.state=o.__s,o.getChildContext!=null&&(r=D(D({},r),o.getChildContext())),g&&!d&&o.getSnapshotBeforeUpdate!=null&&(y=o.getSnapshotBeforeUpdate(h,f)),A=u,u!=null&&u.type===j&&u.key==null&&(A=Ne(u.props.children)),a=Pe(t,Z(A)?A:[A],e,n,r,i,s,_,a,c,l),o.base=e.__e,e.__u&=-161,o.__h.length&&_.push(o),b&&(o.__E=o.__=null)}catch(P){if(e.__v=null,c||s!=null)if(P.then){for(e.__u|=c?160:128;a&&a.nodeType==8&&a.nextSibling;)a=a.nextSibling;s[s.indexOf(a)]=null,e.__e=a}else for(M=s.length;M--;)ie(s[M]);else e.__e=n.__e,e.__k=n.__k;k.__e(P,e,n)}else s==null&&e.__v==n.__v?(e.__k=n.__k,e.__e=n.__e):a=e.__e=Ve(n.__e,e,n,r,i,s,_,c,l);return(u=k.diffed)&&u(e),128&e.__u?void 0:a}function Ue(t,e,n){for(var r=0;r<n.length;r++)ae(n[r],n[++r],n[++r]);k.__c&&k.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(s){s.call(i)})}catch(s){k.__e(s,i.__v)}})}function Ne(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:Z(t)?t.map(Ne):D({},t)}function Ve(t,e,n,r,i,s,_,a,c){var l,u,o,d,h,f,y,b=n.props,v=e.props,g=e.type;if(g=="svg"?i="http://www.w3.org/2000/svg":g=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),s!=null){for(l=0;l<s.length;l++)if((h=s[l])&&"setAttribute"in h==!!g&&(g?h.localName==g:h.nodeType==3)){t=h,s[l]=null;break}}if(t==null){if(g==null)return document.createTextNode(v);t=document.createElementNS(i,g,v.is&&v),a&&(k.__m&&k.__m(e,s),a=!1),s=null}if(g==null)b===v||a&&t.data==v||(t.data=v);else{if(s=s&&V.call(t.childNodes),b=n.props||O,!a&&s!=null)for(b={},l=0;l<t.attributes.length;l++)b[(h=t.attributes[l]).name]=h.value;for(l in b)if(h=b[l],l!="children"){if(l=="dangerouslySetInnerHTML")o=h;else if(!(l in v)){if(l=="value"&&"defaultValue"in v||l=="checked"&&"defaultChecked"in v)continue;F(t,l,null,h,i)}}for(l in v)h=v[l],l=="children"?d=h:l=="dangerouslySetInnerHTML"?u=h:l=="value"?f=h:l=="checked"?y=h:a&&typeof h!="function"||b[l]===h||F(t,l,h,b[l],i);if(u)a||o&&(u.__html==o.__html||u.__html==t.innerHTML)||(t.innerHTML=u.__html),e.__k=[];else if(o&&(t.innerHTML=""),Pe(e.type=="template"?t.content:t,Z(d)?d:[d],e,n,r,g=="foreignObject"?"http://www.w3.org/1999/xhtml":i,s,_,s?s[0]:n.__k&&R(n,0),a,c),s!=null)for(l=s.length;l--;)ie(s[l]);a||(l="value",g=="progress"&&f==null?t.removeAttribute("value"):f!=null&&(f!==t[l]||g=="progress"&&!f||g=="option"&&f!=b[l])&&F(t,l,f,b[l],i),l="checked",y!=null&&y!=t[l]&&F(t,l,y,b[l],i))}return t}function ae(t,e,n){try{if(typeof t=="function"){var r=typeof t.__u=="function";r&&t.__u(),r&&e==null||(t.__u=t(e))}else t.current=e}catch(i){k.__e(i,n)}}function Re(t,e,n){var r,i;if(k.unmount&&k.unmount(t),(r=t.ref)&&(r.current&&r.current!=t.__e||ae(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){k.__e(s,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&Re(r[i],e,n||typeof t.type!="function");n||ie(t.__e),t.__c=t.__=t.__e=void 0}function Ze(t,e,n){return this.constructor(t,n)}function Xe(t,e,n){var r,i,s,_;e==document&&(e=document.documentElement),k.__&&k.__(t,e),i=(r=!1)?null:e.__k,s=[],_=[],se(e,t=e.__k=qe(j,null,[t]),i||O,O,e.namespaceURI,i?null:e.firstChild?V.call(e.childNodes):null,s,i?i.__e:e.firstChild,r,_),Ue(s,t,_)}V=Te.slice,k={__e:function(t,e,n,r){for(var i,s,_;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),_=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),_=i.__d),_)return i.__E=i}catch(a){t=a}throw t}},Ce=0,z.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=D({},this.state),typeof t=="function"&&(t=t(D({},n),this.props)),t&&D(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),ue(this))},z.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),ue(this))},z.prototype.render=j,N=[],Le=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Me=function(t,e){return t.__v.__b-e.__v.__b},K.__r=0,Ee=/(PointerCapture)$|Capture$/i,oe=0,Y=he(!1),Q=he(!0);var Ye=0;function p(t,e,n,r,i,s){e||(e={});var _,a,c=e;if("ref"in c)for(a in c={},e)a=="ref"?_=e[a]:c[a]=e[a];var l={type:t,props:c,key:n,ref:_,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Ye,__i:-1,__u:0,__source:i,__self:s};if(typeof t=="function"&&(_=t.defaultProps))for(a in _)c[a]===void 0&&(c[a]=_[a]);return k.vnode&&k.vnode(l),l}var J,S,X,fe,ee=0,Be=[],x=k,pe=x.__b,me=x.__r,ve=x.diffed,ge=x.__c,ye=x.unmount,be=x.__;function Oe(t,e){x.__h&&x.__h(S,t,ee||e),ee=0;var n=S.__H||(S.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function G(t){return ee=1,je(Fe,t)}function je(t,e,n){var r=Oe(J++,2);if(r.t=t,!r.__c&&(r.__=[Fe(void 0,e),function(a){var c=r.__N?r.__N[0]:r.__[0],l=r.t(c,a);c!==l&&(r.__N=[l,r.__[1]],r.__c.setState({}))}],r.__c=S,!S.__f)){var i=function(a,c,l){if(!r.__c.__H)return!0;var u=r.__c.__H.__.filter(function(d){return!!d.__c});if(u.every(function(d){return!d.__N}))return!s||s.call(this,a,c,l);var o=r.__c.props!==a;return u.forEach(function(d){if(d.__N){var h=d.__[0];d.__=d.__N,d.__N=void 0,h!==d.__[0]&&(o=!0)}}),s&&s.call(this,a,c,l)||o};S.__f=!0;var s=S.shouldComponentUpdate,_=S.componentWillUpdate;S.componentWillUpdate=function(a,c,l){if(this.__e){var u=s;s=void 0,i(a,c,l),s=u}_&&_.call(this,a,c,l)},S.shouldComponentUpdate=i}return r.__N||r.__}function W(t,e){var n=Oe(J++,7);return tt(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function Qe(){for(var t;t=Be.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(q),t.__H.__h.forEach(te),t.__H.__h=[]}catch(e){t.__H.__h=[],x.__e(e,t.__v)}}x.__b=function(t){S=null,pe&&pe(t)},x.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),be&&be(t,e)},x.__r=function(t){me&&me(t),J=0;var e=(S=t.__c).__H;e&&(X===S?(e.__h=[],S.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(e.__h.forEach(q),e.__h.forEach(te),e.__h=[],J=0)),X=S},x.diffed=function(t){ve&&ve(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Be.push(e)!==1&&fe===x.requestAnimationFrame||((fe=x.requestAnimationFrame)||et)(Qe)),e.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),X=S=null},x.__c=function(t,e){e.some(function(n){try{n.__h.forEach(q),n.__h=n.__h.filter(function(r){return!r.__||te(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],x.__e(r,n.__v)}}),ge&&ge(t,e)},x.unmount=function(t){ye&&ye(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{q(r)}catch(i){e=i}}),n.__H=void 0,e&&x.__e(e,n.__v))};var ke=typeof requestAnimationFrame=="function";function et(t){var e,n=function(){clearTimeout(r),ke&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);ke&&(e=requestAnimationFrame(n))}function q(t){var e=S,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),S=e}function te(t){var e=S;t.__c=t.__(),S=e}function tt(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function Fe(t,e){return typeof e=="function"?e(t):e}const Ge=t=>{const e=(n,r)=>[r.key,n[1]];return()=>{const[[n,r],i]=je(e,t);return[n,i,r]}},We=[{id:"ab",name:"Abbasid Dynasty",href:"https://aoe4world.com/explorer/civs/abbasid"},{id:"ay",name:"Ayyubids",href:"https://aoe4world.com/explorer/civs/ayyubids"},{id:"by",name:"Byzantines",href:"https://aoe4world.com/explorer/civs/byzantines"},{id:"ch",name:"Chinese",href:"https://aoe4world.com/explorer/civs/chinese"},{id:"de",name:"Delhi Sultanate",href:"https://aoe4world.com/explorer/civs/delhi"},{id:"en",name:"English",href:"https://aoe4world.com/explorer/civs/english"},{id:"fr",name:"French",href:"https://aoe4world.com/explorer/civs/french"},{id:"hr",name:"Holy Roman Empire",href:"https://aoe4world.com/explorer/civs/hre"},{id:"ja",name:"Japanese",href:"https://aoe4world.com/explorer/civs/japanese"},{id:"je",name:"Jeanne d'Arc",href:"https://aoe4world.com/explorer/civs/jeannedarc"},{id:"ma",name:"Malians",href:"https://aoe4world.com/explorer/civs/malians"},{id:"mo",name:"Mongols",href:"https://aoe4world.com/explorer/civs/mongols"},{id:"od",name:"Order of the Dragon",href:"https://aoe4world.com/explorer/civs/orderofthedragon"},{id:"ot",name:"Ottomans",href:"https://aoe4world.com/explorer/civs/ottomans"},{id:"ru",name:"Rus",href:"https://aoe4world.com/explorer/civs/rus"},{id:"zx",name:"Zhu Xi's Legacy",href:"https://aoe4world.com/explorer/civs/zhuxi"},{id:"kt",name:"Knights Templar",href:"https://aoe4world.com/explorer/civs/templar"},{id:"hl",name:"House Lancaster",href:"https://aoe4world.com/explorer/civs/lancaster"}],ne=We.map(t=>t.id),nt=Object.fromEntries(We.map(t=>[t.id,t])),we=Ge(["hr",ne]),rt=Ge(["2",["1","2","3","4"]]),Se=["Archer","Camel Archer","Camel Rider","Crossbowman","Ghulam","Handcannoneer","Horseman","Lancer","Scout","Spearman","Camel Lancer","Arbalétrier","Cataphract","Grenadier","Horse Archer","Javelin Thrower","Keshik","Limitanei","Landsknecht","Longbowman","Mangudai","Musofadi Warrior","Sipahi","Streltsy","Tower Elephant","Varangian Guard","War Elephant","Zhuge Nu","Palace Guard","Ghazi Raider","Man-at-Arms","Knight","Mounted Samurai","Onna-Bugeisha","Ozutsu","Samurai","Shinobi","Donso","Freeborn Warrior","Mansa Javelineer","Mansa Musofadi Warrior","Musofadi Gunner","Sofa","Warrior Scout","Gilded Archer","Gilded Crossbowman","Gilded Handcannoneer","Gilded Horseman","Gilded Knight","Gilded Landsknecht","Gilded Man-at-Arms","Gilded Spearman","Janissary","Imperial Guard","Chevalier Confrere","Condottiero","Genitour","Genoese Crossbowman","Heavy Spearman","Hospitaller Knight","Serjeant","Szlachta Cavalry","Templar Brother","Teutonic Knight","Veteran Demilancer","Hobelar","Yeoman"],re=function*(t){var n,r,i,s,_;const e=t.name;for(const a of t.variations){const c=a.civs,l=a.age,u=a.hitpoints??0,o=((n=a.movement)==null?void 0:n.speed)??0,d=a.weapons.find(H=>H.type==="melee")||a.weapons.find(H=>H.type==="ranged")||null,h=(d==null?void 0:d.type)==="melee"?d.damage:0,f=(d==null?void 0:d.type)==="ranged"?d.damage:0,y=((r=d==null?void 0:d.range)==null?void 0:r.max)??0,b=(d==null?void 0:d.speed)??0,v=[],g=[];if(d!=null&&d.modifiers)for(const H of d.modifiers)v.push(H.value),g.push(...((i=H.target)==null?void 0:i.class)||[]);const m=d!=null&&d.burst?d.burst.count:1,w=((s=a.armor.find(H=>H.type==="melee"))==null?void 0:s.value)??0,E=((_=a.armor.find(H=>H.type==="ranged"))==null?void 0:_.value)??0,T=a.costs.total,$=a.classes??[],L=l,A=l,M=l,C=l;let P=1,_e=1,le=1;l===4&&($.includes("cavalry")&&(P=1.25),$.includes("ranged")&&!$.includes("gunpowder")&&(_e=1.2),$.includes("ranged")&&$.includes("gunpowder")&&e!=="Janissary"&&(v.push(5),g.push(["melee","infantry"])),$.includes("infantry")&&$.includes("melee")&&(P=1.15,le=1.15)),yield{id:a.baseId,locale:a.locale,name:e,civs:c,age:l,hp:u,meleeDamage:h,rangeDamage:f,weaponRange:y,speed:o,attackSpeed:b,meleeArmor:w,rangeArmor:E,unitType:$,damageBonusType:g,damageBonus:v,cost:T,meleeAttackUpgrade:L,rangeAttackUpgrade:A,meleeDefUpgrade:M,rangeDefUpgrade:C,meleeMultBonus:le,rangeMultBonus:_e,hpMult:P,trueDamage:0,numberOfAttacks:m}}},ot=(t,e)=>{let n=0,r=Math.min(t.damageBonusType.length,t.damageBonus.length);for(let i=0;i<r;++i){const s=t.damageBonusType[i],_=t.damageBonus[i];s.every(a=>e.unitType.includes(a))&&(n+=_)}return n},B=(t,e)=>{const n=t.meleeDamage>t.rangeDamage?"melee":"range",r=ot(t,e),i=(t[`${n}Damage`]+t[`${n}AttackUpgrade`]+r)*t[`${n}MultBonus`],s=e[`${n}Armor`]+e[`${n}DefUpgrade`];return(Math.max(i-s,1)+t.trueDamage)*t.numberOfAttacks},Ie=(t,e)=>{let n,r,i,s,_;const a=(c,l)=>{const u=[0],o=l.speed,d=c.attackSpeed,h=B(c,l),f=[Math.max(l.hp-h,0)];let y=c.weaponRange-l.weaponRange;for(;y>o*d;)f.push(Math.max(f[f.length-1]-h,0)),u.push(u[u.length-1]+d),y-=o*d;return[f,u,y/o]};for(t.weaponRange>e.weaponRange?([r,i,_]=a(t,e),n=i.map(()=>t.hp),s=t.attackSpeed):t.weaponRange<e.weaponRange?([n,i,s]=a(e,t),r=i.map(()=>e.hp),_=e.attackSpeed):(n=[t.hp],r=[e.hp],i=[0],s=t.attackSpeed,_=e.attackSpeed);n[n.length-1]>0&&r[r.length-1]>0;){const c=Math.min(s,_);i.push(i[i.length-1]+c),s<_?(r.push(Math.max(r[r.length-1]-B(t,e),0)),n.push(n[n.length-1]),_-=s,s=t.attackSpeed):s===_?(n.push(Math.max(n[n.length-1]-B(e,t),0)),r.push(Math.max(r[r.length-1]-B(t,e),0)),_=e.attackSpeed,s=t.attackSpeed):(n.push(Math.max(n[n.length-1]-B(e,t),0)),r.push(r[r.length-1]),s-=_,_=e.attackSpeed)}return[n,r,i]},it=(t,e)=>{const[n,r,i]=Ie(t,e),s=(n[0]-n[n.length-1])/n[0],_=t.cost*s,a=(r[0]-r[r.length-1])/r[0],c=e.cost*a;return _/c},st=["table","graph"],at=["1","2","3","4"],xe=t=>{var e;return(e=nt[t])==null?void 0:e.name},$e=["en","ja"],_t=({data:t})=>{const[e,n]=G(navigator.languages.find(m=>$e.includes(m))??"ja"),[r,i]=we(),[s,_]=we(),[a,c]=rt(),[l,u]=G("table"),o=W(()=>t.map(m=>m.id),[t]),d=W(()=>Object.fromEntries(t.map(m=>[m.id,m])),[t]),h=W(()=>{const m=Object.fromEntries(t.map(w=>{var T,$;const E=w.variations.find(L=>{var A,M;return L.name===w.name&&((M=(A=L.locale)==null?void 0:A[e])==null?void 0:M.name)})||w.variations.find(L=>{var A,M;return(M=(A=L.locale)==null?void 0:A[e])==null?void 0:M.name});return[w.id,(($=(T=E==null?void 0:E.locale)==null?void 0:T.ja)==null?void 0:$.name)||w.name]}));return w=>m[w]??"?"},[t,e]),[f,y]=G("archer"),[b,v]=G("archer"),g=W(()=>Se.map(m=>t.find(w=>w.name===m)).filter(m=>!!m),[t,Se]);return p("div",{children:[p("dl",{class:"tools",children:[p(U,{title:"language",value:e,values:$e,set:m=>n(m)}),p(U,{title:"civ1",value:r,values:ne,set:m=>i({key:m}),name:xe}),p(U,{title:"civ2",value:s,values:ne,set:m=>_({key:m}),name:xe}),p(U,{title:"age",value:a,values:at,set:m=>c({key:m})}),p(U,{title:"mode",value:l,values:st,set:m=>u(m)}),l!=="graph"?null:p(j,{children:[p(U,{title:"mode",value:f,values:o,set:m=>y(m),name:h}),p(U,{title:"mode",value:b,values:o,set:m=>v(m),name:h})]})]}),l==="graph"?p(lt,{civ1:r,civ2:s,age:a,u1:d[f],u2:d[b]}):p(ct,{data:g,civ1:r,civ2:s,age:a,displayUnitName:h})]})},U=({title:t,value:e,values:n,set:r,name:i})=>p("label",{children:[p("dt",{children:t}),p("dd",{children:p("select",{value:e,onChange:s=>r(s.target.value),children:n.map(s=>p("option",{value:s,children:(i==null?void 0:i(s))??s},s))})})]}),lt=({civ1:t,civ2:e,age:n,u1:r,u2:i})=>{if(!r||!i)return null;const s=Array.from(re(r)).find(o=>`${o.age}`===n&&o.civs.includes(t)),_=Array.from(re(i)).find(o=>`${o.age}`===n&&o.civs.includes(e));if(!s||!_)return null;const[a,c,l]=Ie(s,_),u=Math.min(a.length,c.length,l.length);return p("table",{children:[p("thead",{children:p("tr",{children:[p("th",{children:"timestamp"}),p("th",{children:"unit1hp"}),p("th",{children:"unit2hp"})]})}),p("tbody",{children:Array.from({length:u},(o,d)=>{const h=a[d],f=c[d],y=l[d];return p("tr",{children:[p("td",{children:y}),p("td",{children:h}),p("td",{children:f})]},y)})})]})},ct=({data:t,civ1:e,civ2:n,age:r,displayUnitName:i})=>{const s=(c,l,u)=>c.map(o=>Array.from(re(o)).find(d=>`${d.age}`===u&&d.civs.includes(l))).filter(o=>!!o),_=s(t,e,r),a=s(t,n,r);return p("table",{children:p("tbody",{children:[p("tr",{children:[p("th",{children:"civ1\\civ2"}),a.map(c=>p("th",{children:i(c.id)},`head:${c.id}`))]}),_.map(c=>p("tr",{children:[p("th",{children:i(c.id)}),a.map(l=>p("td",{children:it(c,l).toFixed(6)},`${c.id}/${l.id}`))]},`${c.id}/head`))]})})},ut="modulepreload",dt=function(t,e){return new URL(t,e).href},Ae={},ht=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let _=function(u){return Promise.all(u.map(o=>Promise.resolve(o).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};const a=document.getElementsByTagName("link"),c=document.querySelector("meta[property=csp-nonce]"),l=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));i=_(n.map(u=>{if(u=dt(u,r),u in Ae)return;Ae[u]=!0;const o=u.endsWith(".css"),d=o?'[rel="stylesheet"]':"";if(!!r)for(let y=a.length-1;y>=0;y--){const b=a[y];if(b.href===u&&(!o||b.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${d}`))return;const f=document.createElement("link");if(f.rel=o?"stylesheet":ut,o||(f.as="script"),f.crossOrigin="",f.href=u,l&&f.setAttribute("nonce",l),document.head.appendChild(f),o)return new Promise((y,b)=>{f.addEventListener("load",y),f.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(_){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=_,window.dispatchEvent(a),!a.defaultPrevented)throw _}return i.then(_=>{for(const a of _||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},ft=async()=>await ht(()=>import("./all-unified-CPOwEVpf.js"),[],import.meta.url).then(t=>t.default.data).then(t=>t.filter(e=>!(e.id==="cavalry-archer"&&e.civs.join("")==="ot"&&e.variations.every(n=>!n.locale))).map((e,n,r)=>{var c,l;const i=e.id,s=e.variations.map(u=>u.costs.total),_=(u,o)=>{const d=(u.food??0)/o,h=(u.wood??0)/o,f=(u.gold??0)/o,y=(u.stone??0)/o,b=(u.oliveoil??0)/o,v=u.time??0,g=(u.popcap??1)/o,m=d+h+f+y+b;return{food:d,wood:h,gold:f,stone:y,oliveoil:b,time:v,popcap:g,total:m}},a=(u,o=1)=>{const d=_(u,o);for(const h of e.variations)h.costs=d};if(i==="shinobi"&&s.join(":")==="0"&&a({food:50,gold:50}),i==="wynguard-footman"){const u=(c=r.find(o=>o.id==="wynguard-footmen"))==null?void 0:c.variations.find(o=>o.costs);u!=null&&u.costs&&a(u.costs,u.costs.popcap)}if(i==="wynguard-ranger"){const u=(l=r.find(o=>o.id==="wynguard-rangers"))==null?void 0:l.variations.find(o=>o.costs);u!=null&&u.costs&&a(u.costs,u.costs.popcap)}return i==="bedouin-swordsman"&&a({gold:425/8}),i==="bedouin-skirmisher"&&a({gold:425/8}),i==="militia"&&a({food:55},2),e})),pt=async()=>{const t=globalThis,e=await ft();console.log(e),t.list=e;const n=document.querySelector("main");n&&Xe(p(_t,{data:e}),n)};Promise.resolve().then(pt).catch(t=>console.error(t));
